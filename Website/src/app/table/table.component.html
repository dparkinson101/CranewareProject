<div class="tableContainer" *ngIf="showTable == true;">

    <p><i>{{procedure | titlecase }}</i></p>

    <mat-card *ngIf="isLoading" style="display: flex; justify-content: center; align-items: center">
        <mat-progress-spinner color="primary" mode="indeterminate">
        </mat-progress-spinner>
    </mat-card>

    <div class="tableContainer" *ngIf="isLoading == false;">

        <div class="example-header">
            <mat-form-field>
                <input matInput (keyup)="applyFilter($event.target.value); loadCurrent();" placeholder="Filter">
            </mat-form-field>
        </div>


        <div [ngClass]="['table-container mat-elevation-z8']" *ngIf="dataSource">

            <mat-table [dataSource]="dataSource" matSort>

                <!-- name Column -->
                <ng-container matColumnDef="providerName">
                    <mat-header-cell *matHeaderCellDef mat-sort-header (click)="loadCurrent();"> Name </mat-header-cell>
                    <mat-cell *matCellDef="let item"> {{item.providerName}} </mat-cell>
                </ng-container>

                <!-- state Column -->
                <ng-container matColumnDef="providerState">
                    <mat-header-cell *matHeaderCellDef mat-sort-header (click)="loadCurrent();"> State </mat-header-cell>
                    <mat-cell *matCellDef="let item"> {{item.providerState}}</mat-cell>
                </ng-container>


                <!-- cost Column -->
                <ng-container matColumnDef="averageTotalPayments">
                    <mat-header-cell *matHeaderCellDef mat-sort-header (click)="loadCurrent();"> Cost </mat-header-cell>
                    <mat-cell *matCellDef="let item">${{item.averageTotalPayments}} </mat-cell>
                </ng-container>

                <!-- zip Column -->
                <ng-container matColumnDef="providerZipCode">
                    <mat-header-cell *matHeaderCellDef mat-sort-header (click)="loadCurrent();"> Zip </mat-header-cell>
                    <mat-cell *matCellDef="let item"> {{item.providerZipCode}} </mat-cell>
                </ng-container>


                <!-- Distance Column -->
                <ng-container matColumnDef="providerDistance">
                    <mat-header-cell *matHeaderCellDef mat-sort-header (click)="loadCurrent();"> Distance </mat-header-cell>
                    <mat-cell *matCellDef="let item"> {{item.providerDistance}}km</mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;">
                </mat-row>
            </mat-table>

            <!-- Page through table -->
            <mat-paginator (click)="loadCurrent();" [pageSizeOptions]="[10]"></mat-paginator>
        </div>
    </div>
</div>